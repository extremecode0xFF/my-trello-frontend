(this["webpackJsonpmy-trello-frontend"]=this["webpackJsonpmy-trello-frontend"]||[]).push([[0],{12:function(t,e,n){t.exports={wrapper:"composer_wrapper__ZX1ZG",composerControl:"composer_composerControl__2eLFu",hide:"composer_hide__2Fpm8",button:"composer_button__1bG__"}},17:function(t,e,n){t.exports={modal:"modal_modal__V7Kw9",active:"modal_active__1cUFi",content:"modal_content__2xwHk"}},20:function(t,e,n){t.exports={list:"list_list__2LicW",title:"list_title__1HuWP",cards:"list_cards__1AhkS",buttonAddCard:"list_buttonAddCard__2lBWg"}},21:function(t,e,n){t.exports={title:"home_title__3CEKH",borders:"home_borders__1uvQo",button:"home_button__3i_HQ"}},29:function(t,e,n){t.exports={header:"board_header__3YuNo",lists:"board_lists__31BMR",buttonAddList:"board_buttonAddList__2DTa5"}},35:function(t,e,n){t.exports={content:"content_content__2NNUk",text:"content_text__yo7sa"}},49:function(t,e,n){t.exports={card:"card_card__1TKlw"}},50:function(t,e,n){t.exports={board:"board_board__2o7ge"}},55:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),s=(n(55),n(14)),i=n(15),d=n(4),u=n(3),l=n(24),p=n(25),b=n(28),O=n(27),_=n(26),j=n.n(_),h=n(5),v=n.n(h),D=n(11),E={baseURL:"https://trello-back.shpp.me/espiridonov/api/v1",boards:"/board"},f=n(46),A=n.n(f).a.create({baseURL:E.baseURL,headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});A.interceptors.response.use((function(t){return t.data}));var R,T=A,x={board:{title:"",users:[],lists:{}},isLoading:!1,error:null,inputs:{title:""}};!function(t){t.UPDATE_BOARD="UPDATE_BOARD",t.UPDATE_BOARD_SUCCESS="UPDATE_BOARD_SUCCESS",t.UPDATE_BOARD_ERROR="UPDATE_BOARD_ERROR",t.DELETE_BOARD="DELETE_BOARD",t.DELETE_BOARD_SUCCESS="DELETE_BOARD_SUCCESS",t.DELETE_BOARD_ERROR="DELETE_BOARD_ERROR",t.UPDATE_BOARD_TITLE="UPDATE_BOARD_TITLE",t.UPDATE_BOARD_TITLE_SUCCESS="UPDATE_BOARD_TITLE_SUCCESS",t.UPDATE_BOARD_TITLE_ERROR="UPDATE_BOARD_TITLE_ERROR",t.INPUT_CHANGE="INPUT_CHANGE"}(R||(R={}));var S,B=n(13),m=n(47),y=n(48);!function(t){t.UPDATE_BOARDS="UPDATE_BOARDS",t.UPDATE_BOARDS_SUCCESS="UPDATE_BOARDS_SUCCESS",t.UPDATE_BOARDS_ERROR="UPDATE_BOARDS_ERROR"}(S||(S={}));var C={boards:[],isLoading:!1,error:null};var g,L={user:[]};!function(t){t.SHOW_MODAL="SHOW_MODAL",t.HIDE_MODAL="HIDE_MODAL"}(g||(g={}));var U={active:!1};var k=Object(B.combineReducers)({board:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case R.UPDATE_BOARD:return Object(u.a)(Object(u.a)({},t),{},{isLoading:!0});case R.UPDATE_BOARD_SUCCESS:return Object(u.a)(Object(u.a)({},t),{},{isLoading:!1,board:e.payload,inputs:{title:e.payload.title}});case R.UPDATE_BOARD_ERROR:return Object(u.a)(Object(u.a)({},t),{},{isLoading:!1,error:e.payload});case R.DELETE_BOARD:return Object(u.a)(Object(u.a)({},t),{},{isLoading:!0});case R.DELETE_BOARD_SUCCESS:return Object(u.a)(Object(u.a)({},t),{},{isLoading:!1,board:e.payload});case R.DELETE_BOARD_ERROR:return Object(u.a)(Object(u.a)({},t),{},{isLoading:!1,error:e.payload});case R.INPUT_CHANGE:return Object(u.a)(Object(u.a)({},t),{},{inputs:{title:e.payload}});default:return t}},boards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S.UPDATE_BOARDS:return{isLoading:!0,error:null,boards:[]};case S.UPDATE_BOARDS_SUCCESS:return{isLoading:!1,error:null,boards:e.payload};case S.UPDATE_BOARDS_ERROR:return{isLoading:!1,error:e.payload,boards:[]};default:return t}},user:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;return e.type,Object(u.a)({},t)},modal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g.SHOW_MODAL:return{active:!0};case g.HIDE_MODAL:return{active:!1};default:return t}}}),P={board:x,boards:{boards:[],isLoading:!1,error:null},user:{user:[]},modal:{active:!1}},N=Object(B.createStore)(k,P,Object(m.composeWithDevTools)(Object(B.applyMiddleware)(y.a))),w=N.dispatch,I=N,H=function(t){w({type:R.INPUT_CHANGE,payload:t})},M=n(29),F=n.n(M),W=n(49),G=n.n(W),K=n(1);function z(t){var e=t.title;return Object(K.jsx)("li",{className:G.a.card,children:e})}var J=n(20),Q=n.n(J);function X(t){return Object.keys(t).map((function(e){var n=t[e];return Object(K.jsx)(z,Object(u.a)({},n),n.id.toString())}))}function Z(t){var e=t.title,n=t.cards;return Object(K.jsxs)("div",{className:Q.a.list,children:[Object(K.jsx)("h2",{className:Q.a.title,children:e}),Object(K.jsx)("ul",{className:Q.a.cards,children:X(n)}),Object(K.jsx)("button",{className:Q.a.buttonAddCard,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})]})}var $=n(18),V=n(12),Y=n.n(V),q=function(t){var e=t.buttonTitle,n=t.placeholder,r=t.addList,c=Object(a.useState)(!1),o=Object($.a)(c,2),s=o[0],i=o[1],d=Object(a.useState)(""),u=Object($.a)(d,2),l=u[0],p=u[1],b=function(){i(!s)};return Object(K.jsxs)("div",{className:Y.a.wrapper,children:[Object(K.jsxs)("button",{className:s?[Y.a.button,Y.a.hide].join(" "):Y.a.button,onClick:b,children:["+ ",e]}),Object(K.jsxs)("div",{className:s?Y.a.composerControl:[Y.a.composerControl,Y.a.hide].join(" "),children:[Object(K.jsx)("textarea",{placeholder:n,value:l,onChange:function(t){p(t.target.value)}}),Object(K.jsxs)("div",{className:Y.a.control,children:[Object(K.jsx)("button",{onClick:function(){r({title:l,position:1}),i(!s)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(K.jsx)("button",{onClick:b,children:"X"})]})]})]})},tt=function(t){Object(b.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).getBoardID=function(){return t.props.id},t.setTitle=function(e){(0,t.props.setBoardTitle)(t.getBoardID(),e)},t.getBoard=function(){(0,t.props.getBoard)(t.getBoardID())},t.handlerFocusIn=function(t){t.target.select()},t.handlerFocusOut=function(e){t.setTitle(e.target.value)},t.handlerChangeTitle=function(t){H(t.target.value)},t.handlerClickEnter=function(e){var n=e.currentTarget,a=n.value,r=n.blur;"Enter"===e.key&&(t.setTitle(a),r())},t.dBoard=function(){(0,t.props.deleteBoard)(t.getBoardID())},t.addNewList=function(e){var n=t.props,a=n.addList,r=n.getBoard;a(t.getBoardID(),e),r(t.getBoardID())},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.id;(0,this.props.getBoard)(t)}},{key:"makeLists",value:function(){var t=this.props.board.lists;return Object.keys(t).map((function(e){var n=t[e];return Object(K.jsx)(Z,Object(u.a)({},n),n.id)}))}},{key:"render",value:function(){var t=this.props.inputs.title;return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{className:F.a.header,children:[Object(K.jsx)(i.b,{to:"/",children:"\u0414\u043e\u043c\u043e\u0439"}),Object(K.jsx)(j.a,{className:F.a.input,inputStyle:{fontSize:18},onFocus:this.handlerFocusIn,onBlur:this.handlerFocusOut,onChange:this.handlerChangeTitle,onKeyUp:this.handlerClickEnter,value:t}),Object(K.jsx)("button",{onClick:this.dBoard,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0443"})]}),Object(K.jsxs)("div",{className:F.a.lists,children:[Object(K.jsx)(q,{buttonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",placeholder:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",addList:this.addNewList}),this.makeLists()]})]})}}]),n}(a.Component),et={getBoard:function(t){return function(){var e=Object(D.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:R.UPDATE_BOARD}),e.next=4,T.get("".concat(E.boards,"/").concat(t));case 4:a=e.sent,n({type:R.UPDATE_BOARD_SUCCESS,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:R.UPDATE_BOARD_ERROR,payload:"\u041f\u0440\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u043e\u0441\u043a\u0438"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},setBoardTitle:function(t,e){return function(){var n=Object(D.a)(v.a.mark((function n(a){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:R.UPDATE_BOARD_TITLE}),n.next=4,T.put("".concat(E.boards,"/").concat(t),{title:e});case 4:r=n.sent,a({type:R.UPDATE_BOARD_TITLE_SUCCESS,payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:R.UPDATE_BOARD_TITLE_ERROR,payload:"\u041f\u0440\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430 \u0434\u043e\u0441\u043a\u0438"});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()},editBoardTitle:H,deleteBoard:function(t){return function(){var e=Object(D.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:R.DELETE_BOARD}),e.next=4,T.delete("".concat(E.boards,"/").concat(t));case 4:a=e.sent,n({type:R.DELETE_BOARD_SUCCESS,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:R.DELETE_BOARD_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0434\u043e\u0441\u043a\u0438"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},addList:function(t,e){return function(){var n=Object(D.a)(v.a.mark((function n(a){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"ADD_LIST"}),n.next=4,T.post("".concat(E.boards,"/").concat(t,"/list"),e);case 4:a({type:"ADD_LIST_SUCCESS",payload:!0}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a({type:"ADD_LIST_ERROR",payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430"});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()}},nt=Object(d.f)(Object(s.b)((function(t,e){return{board:Object(u.a)({},t.board.board),id:e.match.params.id,inputs:{title:t.board.inputs.title}}}),et)(tt)),at=n(50),rt=n.n(at);function ct(t){var e=t.title;return Object(K.jsx)("div",{className:rt.a.board,children:e})}var ot=n(17),st=n.n(ot),it=function(t){var e=t.active,n=t.setActive,a=t.children;return Object(K.jsx)("div",{className:e?[st.a.modal,st.a.active].join(" "):st.a.modal,onClick:function(){return n(!1)},children:Object(K.jsx)("div",{className:e?[st.a.content,st.a.active].join(" "):st.a.content,onClick:function(t){t.stopPropagation()},children:a})})},dt=function(t){w(t?{type:g.SHOW_MODAL}:{type:g.HIDE_MODAL})},ut=function(){return function(){var t=Object(D.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:S.UPDATE_BOARDS}),t.next=4,T.get(E.boards);case 4:n=t.sent,e({type:S.UPDATE_BOARDS_SUCCESS,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:S.UPDATE_BOARDS_ERROR,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},lt=/^((\w|[\u0410-\u042f\u0401\u0430-\u044f\u0451])+(\s(?!$)|\.|-)?)+$/,pt=n(35),bt=n.n(pt),Ot=function(){var t=Object(a.useState)(""),e=Object($.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(!1),o=Object($.a)(c,2),i=o[0],d=o[1],u=Object(s.c)();return Object(a.useEffect)((function(){return function(){u(ut())}}),[]),Object(K.jsxs)("div",{className:bt.a.content,children:[Object(K.jsx)("h3",{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0434\u043e\u0441\u043a\u0438"}),Object(K.jsx)(j.a,{placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043e\u0441\u043a\u0438",type:"text",value:n,onChange:function(t){var e=t.target.value;return r(e),function(t,e){return t.test(e)}(lt,e)?d(!0):d(!1)}}),Object(K.jsx)("button",{className:bt.a.buttonCreate,onClick:function(){var t;i?u((t=n,function(){var e=Object(D.a)(v.a.mark((function e(n){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post(E.boards,{title:t});case 3:a=e.sent,r=a.data,n({type:"ADD_BOARDS",boards:r}),dt(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:"ADD_BOARDS_ERROR"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())):console.log("Wrong expression")},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"})]})},_t=n(21),jt=n.n(_t),ht=function(t){Object(b.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).onClickAddBoard=function(){dt(!0)},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(D.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.getBoards,t.next=3,e();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"makeBoards",value:function(){var t=this.props.boards;return null===t||void 0===t?void 0:t.map((function(t){return Object(K.jsx)(i.b,{to:"/board/".concat(t.id),children:Object(K.jsx)(ct,{title:t.title})},t.id)}))}},{key:"render",value:function(){var t=this.props.modal;return Object(K.jsxs)("div",{className:jt.a.wrapper,children:[Object(K.jsx)("h2",{className:jt.a.title,children:"\u041c\u043e\u0438 \u0414\u043e\u0441\u043a\u0438"}),Object(K.jsxs)("div",{className:jt.a.borders,children:[Object(K.jsx)("button",{className:jt.a.button,onClick:this.onClickAddBoard,children:"+ C\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"}),this.makeBoards(),Object(K.jsx)(it,{active:t.active,setActive:dt,children:t.active?Object(K.jsx)(Ot,{}):null})]})]})}}]),n}(a.Component),vt=Object(s.b)((function(t){return{boards:Object(u.a)({},t.boards.boards).boards,modal:t.modal}}),{getBoards:ut,setModalActive:dt})(ht);function Dt(){return Object(K.jsx)(i.a,{children:Object(K.jsxs)("div",{children:[Object(K.jsx)("nav",{children:Object(K.jsxs)("ul",{children:[Object(K.jsx)("li",{children:Object(K.jsx)(i.b,{to:"/",children:"Home"})}),Object(K.jsx)("li",{children:Object(K.jsx)(i.b,{to:"/board/:id",children:"Board"})})]})}),Object(K.jsxs)(d.c,{children:[Object(K.jsx)(d.a,{path:"/board/:id",component:nt}),Object(K.jsx)(d.a,{path:"/",component:vt})]})]})})}var Et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),c(t),o(t)}))};o.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)("div",{className:"container",children:Object(K.jsx)(s.a,{store:I,children:Object(K.jsx)(Dt,{})})})}),document.getElementById("root")),Et()}},[[81,1,2]]]);
//# sourceMappingURL=main.64507499.chunk.js.map